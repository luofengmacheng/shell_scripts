## Linux中的常用命令

### 1 ls

* -l 长格式显示
* -a 显示所有文件
* -R 递归显示所有文件
* -r 逆向显示文件
* -t 按照时间近远显示，先显示较近的
* -S 按照文件大小显示，先显示较大的，这里不考虑目录，目录统一是4096B

### 2 cat

* -n 显示行号
* -b 先是行号，但不对空行编号
* -s 将多个空行压缩成一个空行

tac则反向答应文件，但是没有对应的选项。

### 3 cp

* -a 归档模式拷贝，是-drp的组合

```
cp对于软链接的处理：
(1) 当不递归拷贝时，就会拷贝实际的内容，
因此，是递归拷贝时，会拷贝链接本身。
(2) 有6个选项会影响该行为：
-r,-R 递归拷贝
-a 本身包含-r，是递归拷贝
-P 不解引用，会拷贝链接本身
-d 与-P一样，不解引用，会拷贝链接本身
-H 拷贝实际的内容
```

因此，默认行为和-H选项会导致拷贝链接实际指向的文件的内容，其它包含递归或者不解引用的选项则会拷贝链接本身。

### 4 ln

#### 4.1 绝对路径和相对路径。

当创建软链接时，其实是创建另一个文件，它的内容就是原文件的路径。根据创建命令中的原文件路径的给出方式判断是采用绝对路径还是相对路径。例如：`ln -s old_file file_link`，这就是采用相对路径，其实就是将old_file这8个字符写入到一个文件file_link中，然后设置链接标志。`ln -s /data/old_file file_link`，这是采用绝对路径，也是将/data/old_file这14个字符写入到文件file_link中，而且这个链接可以随意移动，都是访问原文件。

#### 4.2 软链接和硬链接

软链接其实就是另外创建一个文件，这个文件跟普通文件只有两点区别：设置了链接标志，它的内容是个路径。而硬链接则是创建一个索引节点，并没有另外创建一个文件，这个索引节点指向原来的文件。因此，软链接和硬链接有两个区别：

* 创建软链接时，不会检查原来的文件是否存在，因为本来就是两个文件。创建硬链接时，原来的文件必须存在，因为并没有创建新的文件，只是创建了一个索引节点。
* 创建了软链接后，原来的文件名不能发生改变，因为软链接是通过名字来识别的。而创建硬链接后，如果操作只是在索引节点层面，两个文件的操作是不会相互影响的，例如，修改文件名，删除文件等操作。

### 5 find

两个基本的选项：

* -name 想要查找的文件名，可以是正则表达式
* -exec 在找到要查找的文件后，执行一个命令，删除当前目录下以.txt为后缀名的文件：`find . -name '*.txt' -exec rm -rf {} \;`，后面的命令中`{}`就是找到的文件的文件名。