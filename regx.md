## shell中的正则表达式以及在grep和sed中的应用

### 1 shell中的通配符

(1) * 匹配任意内容

(2) ? 匹配一个字符

(3) [] 匹配中括号中的任意一个

### 2 基础正则表达式

(1) * 前一个字符匹配0次或者任意多次

(2) . 匹配除了换行符外任意一个字符

(3) ^ 匹配行首

(4) $ 匹配行尾

(5) [] 匹配中括号中的任意一个字符，只匹配一个字符，中括号里面的^表示取反

(6) `\{n\}` 重复前面的字符n次

(7) `\{n,\}` 重复至少n次

(8) `\{m, n\}` 重复至少m次，至多n次

(9) `\+` 匹配前面的字符1次或者多次

(10) `\?` 匹配前面的字符0次或者1次

(11) `\(word1|word2\)` 通常与|结合用于匹配多个单词

(12) `\<word\>` 匹配完整单词word，因此，`\<`和`\>`分别匹配单词的左右边界

POSIX字符类：

使用下面这些字符类时，需要注意的是，例如，[:alnum:]表示的是A-Za-z0-9，因此，如果要匹配任意一个字母或者数字，需要再次在外面添加[]，使用[[:alnum:]]

(1) [:alnum:] 匹配任意一个字母或者数字

(2) [:alpha:] 匹配字母

(3) [:blank:] 匹配一个空格或者是一个制表符

(4) [:cntrl:] 匹配控制字符

(5) [:digit:] 匹配数字

(6) [:graph:] 匹配可打印的图形字符

(7) [:lower:] 匹配小写字母

(8) [:upper:] 匹配大写字母

(9) [:print:] 匹配可打印字符

(10) [:space:] 匹配空白字符

(11) [:xdigit:] 匹配十六进制数字

### 3 扩展正则表达式

使用扩展正则表达式时，除了上面的\<word\>之外，其它的都可以将转义字符\去掉，因此：

(1) `{n}` 重复前面的字符n次

(2) `{n,}` 重复至少n次

(3) `{m, n}` 重复至少m次，至多n次

(4) `+` 匹配前面的字符1次或者多次

(5) `?` 匹配前面的字符0次或者1次

(6) `(word1|word2)` 通常与|结合用于匹配多个单词

(7) `\<word\>` 匹配完整单词word，因此，`\<`和`\>`分别匹配单词的左右边界

### 4 修饰符

修饰符用在正则表达式的开头或者结尾，常见的修饰符有：

(1) g 全局匹配，一行上每次出现都匹配

(2) s 将整个匹配串当作一行处理

(3) m 多行匹配

(4) i 忽略大小写

(5) x 允许注释和空格的出现

(6) U 非贪婪匹配

### 5 命令对正则表达式的支持

(1) grep默认支持基础正则表达式，使用`-E`选项支持扩展正则表达式。

(2) sed默认支持基础正则表达式，使用`-r`选项支持扩展正则表达式。

(3) awk默认支持扩展正则表达式。

### 5 grep

(1) -E 扩展正则表达式

(2) -o 只显示精确匹配的部分，而不是整行

(3) -P 支持Perl正则表达式，部分特性只有Perl正则表达式支持，例如，只有Perl正则表达式支持零宽断言

(4) -v 展示不匹配的行

(5) -e 指定正则表达式，可以指定多个

(6) -n 展示匹配的行号

参考文档：

1 [linux shell 正则表达式(BREs,EREs,PREs)差异比较](http://club.alibabatech.org/article_detail.htm?articleId=35)

2 [正则表达式30分钟入门教程](http://deerchao.net/tutorials/regex/regex.htm)

3 [Javascript正则表达式上-基本语法](http://www.cnblogs.com/dolphinX/p/3486214.html)